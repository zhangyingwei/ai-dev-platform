<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目详情 - AI开发平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/styles.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))"
                        },
                        secondary: {
                            DEFAULT: "hsl(var(--secondary))",
                            foreground: "hsl(var(--secondary-foreground))"
                        },
                        destructive: {
                            DEFAULT: "hsl(var(--destructive))",
                            foreground: "hsl(var(--destructive-foreground))"
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))"
                        },
                        accent: {
                            DEFAULT: "hsl(var(--accent))",
                            foreground: "hsl(var(--accent-foreground))"
                        },
                        popover: {
                            DEFAULT: "hsl(var(--popover))",
                            foreground: "hsl(var(--popover-foreground))"
                        },
                        card: {
                            DEFAULT: "hsl(var(--card))",
                            foreground: "hsl(var(--card-foreground))"
                        },
                        success: '#10b981',
                        warning: '#f59e0b',
                        blue: '#3b82f6',
                        green: '#10b981',
                        red: '#ef4444',
                        yellow: '#f59e0b',
                        purple: '#8b5cf6',
                        gray: '#6b7280',
                        'success-foreground': '#ffffff',
                        'warning-foreground': '#ffffff',
                        'destructive-foreground': '#ffffff'
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', 'Helvetica', 'Arial', 'sans-serif'],
                        'mono': ['SFMono-Regular', 'Consolas', 'Liberation Mono', 'Menlo', 'Courier', 'monospace']
                    },
                    fontSize: {
                        'xs': '10px',
                        'sm': '12px',
                        'base': '14px',
                        'lg': '16px',
                        'xl': '18px',
                        '2xl': '20px',
                        '3xl': '24px',
                        '4xl': '30px',
                        '5xl': '38px'
                    },
                    spacing: {
                        'xs': '4px',
                        'sm': '8px',
                        'md': '16px',
                        'lg': '24px',
                        'xl': '32px',
                        'xxl': '48px'
                    },
                    borderRadius: {
                        'sm': '2px',
                        'base': '6px',
                        'lg': '8px',
                        'xl': '12px'
                    },
                    boxShadow: {
                        'sm': '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
                        'base': '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
                        'md': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                        'lg': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
                        'xl': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                        'focus': '0 0 0 3px rgba(0, 0, 0, 0.1)'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-background text-foreground">
    <div class="min-h-screen flex">
        <!-- 侧边栏 -->
        <div id="sidebar" class="w-64 bg-card border-r border-border flex flex-col transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out fixed lg:relative z-40 h-full">
            <!-- Logo区域 -->
            <div class="p-4 border-b border-border">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-primary-foreground" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <span class="text-lg font-bold">AI开发平台</span>
                </div>
            </div>

            <!-- 导航菜单 -->
            <nav class="flex-1 p-3 space-y-1">
                <div class="mb-3">
                    <p class="text-xs font-medium text-muted-foreground uppercase tracking-wider px-2 py-1">主要功能</p>
                </div>
                <a href="../index.html" class="nav-item flex items-center space-x-2 px-2 py-2 rounded-md hover:bg-accent hover:text-accent-foreground">
                    <div class="w-4 h-4 flex items-center justify-center">
                        <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                    </div>
                    <span class="text-sm font-medium">工作台</span>
                </a>
                <a href="requirement-management.html" class="nav-item flex items-center space-x-2 px-2 py-2 rounded-md hover:bg-accent hover:text-accent-foreground">
                    <div class="w-4 h-4 flex items-center justify-center">
                        <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <span class="text-sm font-medium">需求管理</span>
                </a>

                <a href="ai-coding-assistant.html" class="nav-item flex items-center space-x-2 px-2 py-2 rounded-md hover:bg-accent hover:text-accent-foreground">
                    <div class="w-4 h-4 flex items-center justify-center">
                        <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <span class="text-sm font-medium">AI编码助手管理</span>
                </a>

                <div class="mt-4 mb-3">
                    <p class="text-xs font-medium text-muted-foreground uppercase tracking-wider px-2 py-1">管理功能</p>
                </div>
                <a href="project-management.html" class="nav-item active flex items-center space-x-2 px-2 py-2 rounded-md bg-accent text-accent-foreground shadow-sm">
                    <div class="w-4 h-4 flex items-center justify-center">
                        <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/>
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a2 2 0 00-2 2v6a2 2 0 002 2h8a2 2 0 002-2V6a2 2 0 00-2-2V3a2 2 0 012-2v1a2 2 0 00-2 2H6a2 2 0 00-2 2z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <span class="text-sm font-medium">项目管理</span>
                </a>


                <!-- 开发资源管理 - 二级菜单 -->
                <div class="nav-group">
                    <button class="nav-item nav-toggle flex items-center justify-between w-full px-2 py-2 rounded-md hover:bg-accent hover:text-accent-foreground" data-target="resource-submenu">
                        <div class="flex items-center space-x-2">
                            <div class="w-4 h-4 flex items-center justify-center">
                                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z" clip-rule="evenodd"/>
                                    <path d="M15 7h1a2 2 0 012 2v5.5a1.5 1.5 0 01-3 0V9a1 1 0 00-1-1h-1v-1z"/>
                                </svg>
                            </div>
                            <span class="text-sm font-medium">开发资源管理</span>
                        </div>
                        <svg class="w-4 h-4 transition-transform duration-200 chevron-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                    <div id="resource-submenu" class="submenu hidden ml-6 mt-1 space-y-1">
                        <a href="database-management.html" class="nav-item flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground text-sm">
                            <div class="w-3 h-3 flex items-center justify-center">
                                <svg class="w-2.5 h-2.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 16a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"/>
                                </svg>
                            </div>
                            <span class="font-medium">数据库管理</span>
                        </a>
                        <a href="application-management.html" class="nav-item flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground text-sm">
                            <div class="w-3 h-3 flex items-center justify-center">
                                <svg class="w-2.5 h-2.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm2 0v8h12V6H4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="font-medium">应用服务管理</span>
                        </a>
                        <a href="code-management.html" class="nav-item flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground text-sm">
                            <div class="w-3 h-3 flex items-center justify-center">
                                <svg class="w-2.5 h-2.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="font-medium">代码管理</span>
                        </a>
                        <a href="server-management.html" class="nav-item flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground text-sm">
                            <div class="w-3 h-3 flex items-center justify-center">
                                <svg class="w-2.5 h-2.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="font-medium">服务器管理</span>
                        </a>
                    </div>
                </div>
                <a href="system-management.html" class="nav-item flex items-center space-x-2 px-2 py-2 rounded-md hover:bg-accent hover:text-accent-foreground">
                    <div class="w-4 h-4 flex items-center justify-center">
                        <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <span class="text-sm font-medium">系统管理</span>
                </a>
            </nav>
        </div>

        <!-- 主内容区域 -->
        <main class="flex-1 flex flex-col lg:ml-0">
            <!-- 顶部导航栏 -->
            <header class="bg-card border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <!-- 移动端菜单按钮 -->
                        <button id="sidebar-toggle" class="lg:hidden p-2 rounded-md hover:bg-accent">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                            </svg>
                        </button>
                        
                        <div class="flex items-center space-x-2 text-sm text-muted-foreground">
                            <a href="project-management.html" class="hover:text-foreground">项目管理</a>
                            <span>/</span>
                            <span id="current-page">项目详情</span>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <!-- 主题切换按钮 -->
                        <button id="theme-toggle" class="p-2 rounded-md hover:bg-accent transition-colors">
                            <svg class="w-5 h-5 dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
                            </svg>
                            <svg class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
                            </svg>
                        </button>
                        
                        <!-- 用户信息 -->
                        <div class="flex items-center space-x-2">
                            <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                                <span class="text-sm font-medium text-primary-foreground">A</span>
                            </div>
                            <span class="text-sm font-medium">管理员</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 页面内容 -->
            <main class="flex-1 p-6 overflow-auto" id="main-content">
                <!-- 项目详情页面内容 -->
                <div class="space-y-6">
                    <!-- 项目头部信息 -->
                    <div class="bg-card border border-border rounded-lg p-6">
                        <div class="flex items-center space-x-4 mb-4">
                            <div id="project-icon" class="w-16 h-16 bg-purple/10 rounded-lg flex items-center justify-center">
                                <span class="text-purple font-semibold text-2xl">🤖</span>
                            </div>
                            <div class="flex-1">
                                <h1 id="project-title" class="text-2xl font-bold mb-2">AI开发平台</h1>
                                <p id="project-description" class="text-muted-foreground">智能化开发工具平台，提供AI辅助编程功能</p>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span id="project-status" class="px-3 py-1 bg-green/10 text-green text-sm rounded-full">进行中</span>
                                <button class="px-4 py-2 border border-border rounded-md hover:bg-accent">编辑项目</button>
                            </div>
                        </div>
                    </div>

                    <!-- 标签页导航 -->
                    <div class="bg-card border border-border rounded-lg">
                        <nav class="border-b border-border px-6">
                            <div class="flex space-x-8">
                                <button class="py-3 px-1 border-b-2 border-primary text-primary font-medium text-sm" data-detail-tab="basic-info">
                                    基本信息
                                </button>
                                <button class="py-3 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-detail-tab="requirements">
                                    需求管理
                                </button>
                                <button class="py-3 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-detail-tab="tasks">
                                    开发任务
                                </button>
                                <button class="py-3 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-detail-tab="team">
                                    人员管理
                                </button>
                                <button class="py-3 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-detail-tab="code">
                                    项目代码管理
                                </button>
                                <button class="py-3 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-detail-tab="deployment">
                                    部署管理
                                </button>
                                <button class="py-3 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-detail-tab="resources">
                                    资源管理
                                </button>
                            </div>
                        </nav>

                        <!-- 标签页内容 -->
                        <div class="p-6">
                            <!-- 基本信息 -->
                            <div id="basic-info-content" class="detail-tab-content">
                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <!-- 项目基本信息 -->
                                    <div class="space-y-6">
                                        <div class="bg-muted rounded-lg p-4">
                                            <h3 class="text-lg font-semibold mb-4">项目信息</h3>
                                            <div class="space-y-3">
                                                <div class="flex justify-between">
                                                    <span class="text-muted-foreground">项目名称:</span>
                                                    <span id="detail-project-name">AI开发平台</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-muted-foreground">项目状态:</span>
                                                    <span id="detail-project-status" class="px-2 py-1 bg-green/10 text-green text-sm rounded">进行中</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-muted-foreground">项目负责人:</span>
                                                    <span id="detail-project-manager">张项目经理</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-muted-foreground">创建时间:</span>
                                                    <span id="detail-create-time">2024-01-15</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-muted-foreground">最后更新:</span>
                                                    <span id="detail-update-time">2024-01-21</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-muted-foreground">项目进度:</span>
                                                    <span id="detail-progress">75%</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="bg-muted rounded-lg p-4">
                                            <h3 class="text-lg font-semibold mb-4">技术栈</h3>
                                            <div class="flex flex-wrap gap-2" id="detail-tech-stack">
                                                <span class="px-3 py-1 bg-blue/10 text-blue text-sm rounded-full">React</span>
                                                <span class="px-3 py-1 bg-green/10 text-green text-sm rounded-full">Node.js</span>
                                                <span class="px-3 py-1 bg-yellow/10 text-yellow text-sm rounded-full">MongoDB</span>
                                                <span class="px-3 py-1 bg-purple/10 text-purple text-sm rounded-full">Docker</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 项目统计 -->
                                    <div class="space-y-6">
                                        <div class="bg-muted rounded-lg p-4">
                                            <h3 class="text-lg font-semibold mb-4">项目统计</h3>
                                            <div class="grid grid-cols-2 gap-4">
                                                <div class="text-center p-3 bg-card rounded-lg">
                                                    <div class="text-2xl font-bold text-blue">24</div>
                                                    <div class="text-xs text-muted-foreground">总需求数</div>
                                                </div>
                                                <div class="text-center p-3 bg-card rounded-lg">
                                                    <div class="text-2xl font-bold text-green">18</div>
                                                    <div class="text-xs text-muted-foreground">已完成</div>
                                                </div>
                                                <div class="text-center p-3 bg-card rounded-lg">
                                                    <div class="text-2xl font-bold text-yellow">4</div>
                                                    <div class="text-xs text-muted-foreground">进行中</div>
                                                </div>
                                                <div class="text-center p-3 bg-card rounded-lg">
                                                    <div class="text-2xl font-bold text-red">2</div>
                                                    <div class="text-xs text-muted-foreground">待处理</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="bg-muted rounded-lg p-4">
                                            <h3 class="text-lg font-semibold mb-4">里程碑</h3>
                                            <div class="space-y-3">
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-3 h-3 bg-green rounded-full"></div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium">需求分析完成</div>
                                                        <div class="text-xs text-muted-foreground">2024-01-15</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-3 h-3 bg-green rounded-full"></div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium">原型设计完成</div>
                                                        <div class="text-xs text-muted-foreground">2024-01-18</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-3 h-3 bg-yellow rounded-full"></div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium">核心功能开发</div>
                                                        <div class="text-xs text-muted-foreground">进行中</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-3 h-3 bg-gray rounded-full"></div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium">测试与部署</div>
                                                        <div class="text-xs text-muted-foreground">待开始</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 需求管理 -->
                            <div id="requirements-content" class="detail-tab-content hidden">
                                <div class="space-y-6">
                                    <div class="flex items-center justify-between">
                                        <h3 class="text-lg font-semibold">项目需求列表</h3>
                                        <button class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/80">
                                            新增需求
                                        </button>
                                    </div>

                                    <div class="space-y-4">
                                        <div class="border border-border rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-3">
                                                <div class="flex items-center space-x-3">
                                                    <span class="px-2 py-1 bg-blue/10 text-blue text-xs rounded">功能需求</span>
                                                    <h4 class="font-medium">AI聊天功能</h4>
                                                </div>
                                                <span class="px-2 py-1 bg-green/10 text-green text-xs rounded">已完成</span>
                                            </div>
                                            <p class="text-sm text-muted-foreground mb-3">实现智能AI聊天功能，支持多轮对话和上下文理解</p>
                                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                                                <div>
                                                    <span class="text-muted-foreground">优先级:</span>
                                                    <span class="ml-1 text-red">高</span>
                                                </div>
                                                <div>
                                                    <span class="text-muted-foreground">负责人:</span>
                                                    <span class="ml-1">李开发</span>
                                                </div>
                                                <div>
                                                    <span class="text-muted-foreground">预计工时:</span>
                                                    <span class="ml-1">40小时</span>
                                                </div>
                                                <div>
                                                    <span class="text-muted-foreground">完成时间:</span>
                                                    <span class="ml-1">2024-01-20</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="border border-border rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-3">
                                                <div class="flex items-center space-x-3">
                                                    <span class="px-2 py-1 bg-green/10 text-green text-xs rounded">优化需求</span>
                                                    <h4 class="font-medium">界面优化</h4>
                                                </div>
                                                <span class="px-2 py-1 bg-yellow/10 text-yellow text-xs rounded">进行中</span>
                                            </div>
                                            <p class="text-sm text-muted-foreground mb-3">优化用户界面设计，提升用户体验</p>
                                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                                                <div>
                                                    <span class="text-muted-foreground">优先级:</span>
                                                    <span class="ml-1 text-yellow">中</span>
                                                </div>
                                                <div>
                                                    <span class="text-muted-foreground">负责人:</span>
                                                    <span class="ml-1">王设计</span>
                                                </div>
                                                <div>
                                                    <span class="text-muted-foreground">预计工时:</span>
                                                    <span class="ml-1">24小时</span>
                                                </div>
                                                <div>
                                                    <span class="text-muted-foreground">预计完成:</span>
                                                    <span class="ml-1">2024-01-25</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 其他标签页内容 -->
                            <div id="tasks-content" class="detail-tab-content hidden">
                                <!-- 开发任务管理 -->
                                <div class="space-y-6">
                                    <!-- 标签页导航 -->
                                    <nav class="border-b border-border">
                                        <div class="flex space-x-8">
                                            <button class="py-2 px-1 border-b-2 border-primary text-primary font-medium text-sm" data-dev-tab="dev-tasks">
                                                研发任务
                                            </button>
                                            <button class="py-2 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-dev-tab="development-tasks">
                                                进行中任务
                                            </button>
                                            <button class="py-2 px-1 border-b-2 border-transparent text-muted-foreground hover:text-foreground text-sm" data-dev-tab="cloud-editor">
                                                云编辑器
                                            </button>
                                        </div>
                                    </nav>

                                    <!-- 研发任务界面 -->
                                    <div class="bg-card border border-border rounded-lg p-4" data-dev-tab-content="dev-tasks">
                                        <div class="flex items-center justify-between mb-4">
                                            <h3 class="text-lg font-semibold">研发任务管理</h3>
                                            <div class="flex items-center space-x-3">
                                                <!-- 项目筛选 -->
                                                <div class="flex items-center space-x-2">
                                                    <label class="text-sm text-muted-foreground">项目:</label>
                                                    <select id="project-filter" class="px-3 py-1.5 border border-border rounded text-sm bg-background" onchange="filterRequirementsByProject()">
                                                        <option value="">全部项目</option>
                                                        <option value="ai-platform">AI开发平台</option>
                                                        <option value="payment-system">支付系统</option>
                                                        <option value="mobile-app">移动应用</option>
                                                        <option value="data-analytics">数据分析平台</option>
                                                    </select>
                                                </div>
                                                <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm hover:bg-gray-800" onclick="createNewRequirement()">
                                                    新建需求
                                                </button>
                                            </div>
                                        </div>

                                        <!-- 需求统计 -->
                                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                                            <div class="text-center p-3 bg-muted rounded-lg">
                                                <div class="text-2xl font-bold text-primary">8</div>
                                                <div class="text-xs text-muted-foreground">总需求数</div>
                                            </div>
                                            <div class="text-center p-3 bg-muted rounded-lg">
                                                <div class="text-2xl font-bold text-warning">3</div>
                                                <div class="text-xs text-muted-foreground">开发中</div>
                                            </div>
                                            <div class="text-center p-3 bg-muted rounded-lg">
                                                <div class="text-2xl font-bold text-muted-foreground">2</div>
                                                <div class="text-xs text-muted-foreground">待开发</div>
                                            </div>
                                            <div class="text-center p-3 bg-muted rounded-lg">
                                                <div class="text-2xl font-bold text-success">3</div>
                                                <div class="text-xs text-muted-foreground">已完成</div>
                                            </div>
                                        </div>

                                        <!-- 需求列表 -->
                                        <div class="space-y-4">
                                            <!-- 高优先级需求 -->
                                            <div class="border border-destructive rounded-lg p-4 bg-red-50">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <h4 class="font-medium text-base">微信支付集成</h4>
                                                        <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">💳 支付系统</span>
                                                        <span class="px-2 py-1 bg-destructive text-destructive-foreground text-xs rounded">🔴 高优先级</span>
                                                        <span class="px-2 py-1 bg-warning text-warning-foreground text-xs rounded">开发中</span>
                                                    </div>
                                                    <div class="text-xs text-muted-foreground">
                                                        创建时间: 2024-01-21 09:30
                                                    </div>
                                                </div>
                                                <p class="text-sm text-muted-foreground mb-3">集成微信支付SDK，实现支付、退款功能，支持多种支付场景</p>

                                                <!-- 需求详情 -->
                                                <div class="mb-3">
                                                    <span class="text-xs text-muted-foreground">预估工时:</span>
                                                    <span class="text-sm ml-2">3天</span>
                                                    <span class="text-xs text-muted-foreground ml-4">负责人:</span>
                                                    <span class="text-sm ml-2">张开发</span>
                                                </div>

                                                <!-- 操作按钮 -->
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-xs text-muted-foreground">进度:</span>
                                                        <div class="w-24 bg-muted rounded-full h-2">
                                                            <div class="bg-warning h-2 rounded-full" style="width: 60%"></div>
                                                        </div>
                                                        <span class="text-xs">60%</span>
                                                    </div>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            查看详情
                                                        </button>
                                                        <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm hover:bg-gray-800">
                                                            更新进度
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 中优先级需求 -->
                                            <div class="border border-border rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <h4 class="font-medium text-base">响应式布局优化</h4>
                                                        <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">📱 移动应用</span>
                                                        <span class="px-2 py-1 bg-warning text-warning-foreground text-xs rounded">🟡 中优先级</span>
                                                        <span class="px-2 py-1 bg-muted text-muted-foreground text-xs rounded">待开发</span>
                                                    </div>
                                                    <div class="text-xs text-muted-foreground">
                                                        创建时间: 2024-01-20 16:45
                                                    </div>
                                                </div>
                                                <p class="text-sm text-muted-foreground mb-3">优化页面布局，适配移动端屏幕，提升用户体验</p>

                                                <!-- 需求详情 -->
                                                <div class="mb-3">
                                                    <span class="text-xs text-muted-foreground">预估工时:</span>
                                                    <span class="text-sm ml-2">2天</span>
                                                    <span class="text-xs text-muted-foreground ml-4">负责人:</span>
                                                    <span class="text-sm ml-2">李前端</span>
                                                </div>

                                                <!-- 操作按钮 -->
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-xs text-muted-foreground">进度:</span>
                                                        <div class="w-24 bg-muted rounded-full h-2">
                                                            <div class="bg-muted h-2 rounded-full" style="width: 0%"></div>
                                                        </div>
                                                        <span class="text-xs">0%</span>
                                                    </div>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            查看详情
                                                        </button>
                                                        <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm hover:bg-gray-800">
                                                            开始开发
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 已完成需求 -->
                                            <div class="border border-border rounded-lg p-4 bg-green-50">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <h4 class="font-medium text-base">数据库连接池优化</h4>
                                                        <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">📊 数据分析平台</span>
                                                        <span class="px-2 py-1 bg-muted text-muted-foreground text-xs rounded">🟢 低优先级</span>
                                                        <span class="px-2 py-1 bg-success text-success-foreground text-xs rounded">已完成</span>
                                                    </div>
                                                    <div class="text-xs text-muted-foreground">
                                                        完成时间: 2024-01-19 14:20
                                                    </div>
                                                </div>
                                                <p class="text-sm text-muted-foreground mb-3">优化数据库连接池配置，提升系统性能和稳定性</p>

                                                <!-- 完成详情 -->
                                                <div class="mb-3">
                                                    <span class="text-xs text-muted-foreground">实际工时:</span>
                                                    <span class="text-sm ml-2">1.5天</span>
                                                    <span class="text-xs text-muted-foreground ml-4">完成人:</span>
                                                    <span class="text-sm ml-2">王后端</span>
                                                </div>

                                                <!-- 操作按钮 -->
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-xs text-muted-foreground">进度:</span>
                                                        <div class="w-24 bg-muted rounded-full h-2">
                                                            <div class="bg-success h-2 rounded-full" style="width: 100%"></div>
                                                        </div>
                                                        <span class="text-xs">100%</span>
                                                    </div>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            查看详情
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 进行中任务界面 -->
                                    <div class="hidden" data-dev-tab-content="development-tasks">
                                        <div class="bg-card border border-border rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-4">
                                                <h3 class="text-lg font-semibold">进行中任务管理</h3>
                                                <!-- 状态切换按钮组 -->
                                                <div class="flex bg-muted rounded-md p-1">
                                                    <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm font-medium" data-dev-task-filter="developing">
                                                        开发中
                                                    </button>
                                                    <button class="px-3 py-1.5 text-muted-foreground rounded text-sm" data-dev-task-filter="pending">
                                                        待开发
                                                    </button>
                                                    <button class="px-3 py-1.5 text-muted-foreground rounded text-sm" data-dev-task-filter="completed">
                                                        已完成
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- 待开发任务列表 -->
                                            <div class="space-y-4 hidden" data-dev-task-content="pending">
                                                <div class="flex items-center justify-between mb-4">
                                                    <span class="text-sm text-muted-foreground">共 3 个待开发任务</span>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            批量操作
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            排序设置
                                                        </button>
                                                    </div>
                                                </div>

                                                <!-- 任务队列 -->
                                                <div class="space-y-3" id="pending-tasks-queue">
                                                    <!-- 待开发任务项 -->
                                                    <div class="border border-border rounded-lg p-4 hover:bg-accent cursor-move" data-task-id="task-001" draggable="true">
                                                        <div class="flex items-center justify-between mb-3">
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-lg cursor-move">⋮⋮</span>
                                                                <h4 class="font-medium text-base">前端模块开发任务</h4>
                                                                <span class="px-2 py-1 bg-warning text-warning-foreground text-xs rounded">队列中</span>
                                                            </div>
                                                            <div class="text-xs text-muted-foreground">
                                                                提交时间: 2024-01-21 14:30
                                                            </div>
                                                        </div>
                                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-3">
                                                            <div>
                                                                <span class="text-xs text-muted-foreground">Agent配置:</span>
                                                                <div class="text-sm">Augment Code + GPT-4</div>
                                                            </div>
                                                            <div>
                                                                <span class="text-xs text-muted-foreground">预估成本:</span>
                                                                <div class="text-sm">$2.50</div>
                                                            </div>
                                                            <div>
                                                                <span class="text-xs text-muted-foreground">预估时间:</span>
                                                                <div class="text-sm">15分钟</div>
                                                            </div>
                                                        </div>
                                                        <div class="flex space-x-2">
                                                            <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm hover:bg-gray-800" onclick="startTask('task-001')">
                                                                开始执行
                                                            </button>
                                                            <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="editTask('task-001')">
                                                                编辑
                                                            </button>
                                                            <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="viewTaskDetails('task-001')">
                                                                详情
                                                            </button>
                                                            <button class="px-3 py-1.5 border border-destructive text-destructive rounded text-sm hover:bg-destructive hover:text-destructive-foreground" onclick="deleteTask('task-001')">
                                                                删除
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <div class="border border-border rounded-lg p-4 hover:bg-accent cursor-move" data-task-id="task-002" draggable="true">
                                                        <div class="flex items-center justify-between mb-3">
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-lg cursor-move">⋮⋮</span>
                                                                <h4 class="font-medium text-base">支付模块开发任务</h4>
                                                                <span class="px-2 py-1 bg-warning text-warning-foreground text-xs rounded">队列中</span>
                                                            </div>
                                                            <div class="text-xs text-muted-foreground">
                                                                提交时间: 2024-01-21 15:45
                                                            </div>
                                                        </div>
                                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-3">
                                                            <div>
                                                                <span class="text-xs text-muted-foreground">Agent配置:</span>
                                                                <div class="text-sm">Claude + Cursor</div>
                                                            </div>
                                                            <div>
                                                                <span class="text-xs text-muted-foreground">预估成本:</span>
                                                                <div class="text-sm">$4.20</div>
                                                            </div>
                                                            <div>
                                                                <span class="text-xs text-muted-foreground">预估时间:</span>
                                                                <div class="text-sm">25分钟</div>
                                                            </div>
                                                        </div>
                                                        <div class="flex space-x-2">
                                                            <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm hover:bg-gray-800" onclick="startTask('task-002')">
                                                                开始执行
                                                            </button>
                                                            <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="editTask('task-002')">
                                                                编辑
                                                            </button>
                                                            <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="viewTaskDetails('task-002')">
                                                                详情
                                                            </button>
                                                            <button class="px-3 py-1.5 border border-destructive text-destructive rounded text-sm hover:bg-destructive hover:text-destructive-foreground" onclick="deleteTask('task-002')">
                                                                删除
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 开发中任务列表 -->
                                            <div class="space-y-4" data-dev-task-content="developing">
                                                <div class="flex items-center justify-between mb-4">
                                                    <span class="text-sm text-muted-foreground">共 2 个开发中任务</span>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            全部暂停
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            监控面板
                                                        </button>
                                                    </div>
                                                </div>

                                                <!-- 正在执行的任务 -->
                                                <div class="border border-primary rounded-lg p-4 bg-blue-50">
                                                    <div class="flex items-center justify-between mb-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-3 h-3 bg-primary rounded-full animate-pulse"></div>
                                                            <h4 class="font-medium text-base cursor-pointer hover:text-primary" onclick="openTaskDetails('task-003')">数据库优化任务</h4>
                                                            <span class="px-2 py-1 bg-primary text-primary-foreground text-xs rounded">执行中</span>
                                                        </div>
                                                        <div class="text-xs text-muted-foreground">
                                                            开始时间: 2024-01-21 16:20
                                                        </div>
                                                    </div>
                                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-3">
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">Agent:</span>
                                                            <div class="text-sm">GPT-4 Turbo</div>
                                                        </div>
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">已用时间:</span>
                                                            <div class="text-sm">8分钟</div>
                                                        </div>
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">已用成本:</span>
                                                            <div class="text-sm">$1.20</div>
                                                        </div>
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">进度:</span>
                                                            <div class="text-sm">65%</div>
                                                        </div>
                                                    </div>
                                                    <div class="mb-3">
                                                        <div class="w-full bg-muted rounded-full h-2">
                                                            <div class="bg-primary h-2 rounded-full transition-all duration-300" style="width: 65%"></div>
                                                        </div>
                                                    </div>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm hover:bg-gray-800" onclick="openTaskDetails('task-003')">
                                                            查看详情
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="viewTaskLogs('task-003')">
                                                            查看日志
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-warning text-warning rounded text-sm hover:bg-warning hover:text-warning-foreground" onclick="pauseTask('task-003')">
                                                            暂停
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-destructive text-destructive rounded text-sm hover:bg-destructive hover:text-destructive-foreground" onclick="stopTask('task-003')">
                                                            停止
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 已完成任务列表 -->
                                            <div class="space-y-4 hidden" data-dev-task-content="completed">
                                                <div class="flex items-center justify-between mb-4">
                                                    <span class="text-sm text-muted-foreground">共 5 个已完成任务</span>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            导出报告
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent">
                                                            统计分析
                                                        </button>
                                                    </div>
                                                </div>

                                                <!-- 已完成任务项 -->
                                                <div class="border border-border rounded-lg p-4 bg-green-50">
                                                    <div class="flex items-center justify-between mb-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-3 h-3 bg-success rounded-full"></div>
                                                            <h4 class="font-medium text-base">用户认证模块</h4>
                                                            <span class="px-2 py-1 bg-success text-success-foreground text-xs rounded">已完成</span>
                                                        </div>
                                                        <div class="text-xs text-muted-foreground">
                                                            完成时间: 2024-01-21 15:30
                                                        </div>
                                                    </div>
                                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-3">
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">Agent:</span>
                                                            <div class="text-sm">Claude Sonnet</div>
                                                        </div>
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">用时:</span>
                                                            <div class="text-sm">12分钟</div>
                                                        </div>
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">成本:</span>
                                                            <div class="text-sm">$1.80</div>
                                                        </div>
                                                        <div>
                                                            <span class="text-xs text-muted-foreground">质量评分:</span>
                                                            <div class="text-sm">9.2/10</div>
                                                        </div>
                                                    </div>
                                                    <div class="flex space-x-2">
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="viewTaskResult('task-004')">
                                                            查看结果
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="downloadCode('task-004')">
                                                            下载代码
                                                        </button>
                                                        <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="viewTaskLogs('task-004')">
                                                            查看日志
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="team-content" class="detail-tab-content hidden">
                                <h3 class="text-lg font-semibold mb-4">团队人员管理</h3>
                                <p class="text-muted-foreground">人员管理功能正在开发中...</p>
                            </div>

                            <!-- 项目代码管理 -->
                            <div id="code-content" class="detail-tab-content hidden">
                                <div class="space-y-6">
                                    <div class="flex items-center justify-between">
                                        <h3 class="text-lg font-semibold">项目代码管理</h3>
                                        <div class="flex items-center space-x-3">
                                            <button class="px-4 py-2 bg-success text-success-foreground rounded-md hover:bg-success/80">
                                                新建仓库
                                            </button>
                                            <button class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/80">
                                                导入仓库
                                            </button>
                                        </div>
                                    </div>

                                    <!-- 代码统计 -->
                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">项目仓库</p>
                                                    <p class="text-lg font-bold">3</p>
                                                </div>
                                                <div class="w-10 h-10 bg-blue/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">📁</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">代码分支</p>
                                                    <p class="text-lg font-bold">12</p>
                                                </div>
                                                <div class="w-10 h-10 bg-green/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">🌿</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">今日提交</p>
                                                    <p class="text-lg font-bold">8</p>
                                                </div>
                                                <div class="w-10 h-10 bg-purple/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">📝</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">代码行数</p>
                                                    <p class="text-lg font-bold">15.2K</p>
                                                </div>
                                                <div class="w-10 h-10 bg-yellow/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">💻</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 仓库列表 -->
                                    <div class="bg-card border border-border rounded-lg">
                                        <div class="p-4 border-b border-border">
                                            <div class="flex items-center justify-between">
                                                <h4 class="text-lg font-semibold">项目仓库</h4>
                                                <div class="flex items-center space-x-3">
                                                    <input type="text" placeholder="搜索仓库..." class="px-3 py-1.5 bg-background border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring">
                                                    <select class="px-3 py-1.5 bg-background border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring">
                                                        <option>全部分支</option>
                                                        <option>主分支</option>
                                                        <option>开发分支</option>
                                                        <option>功能分支</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="divide-y divide-border">
                                            <!-- 主仓库 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex-1">
                                                        <div class="flex items-center space-x-3 mb-2">
                                                            <h5 class="font-semibold text-primary hover:underline cursor-pointer">ai-platform-frontend</h5>
                                                            <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">主仓库</span>
                                                            <span class="px-2 py-1 bg-blue/10 text-blue text-xs rounded-full">公开</span>
                                                        </div>
                                                        <p class="text-sm text-muted-foreground mb-3">AI开发平台前端代码 - React + TypeScript</p>
                                                        <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                                            <div class="flex items-center space-x-1">
                                                                <div class="w-3 h-3 bg-blue rounded-full"></div>
                                                                <span>TypeScript</span>
                                                            </div>
                                                            <div class="flex items-center space-x-1">
                                                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                                                                </svg>
                                                                <span>15</span>
                                                            </div>
                                                            <div class="flex items-center space-x-1">
                                                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path fill-rule="evenodd" d="M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                                </svg>
                                                                <span>5</span>
                                                            </div>
                                                            <span>更新于 2小时前</span>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">克隆</button>
                                                        <button class="px-3 py-1.5 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs">查看</button>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">分支</button>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">提交</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 后端仓库 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex-1">
                                                        <div class="flex items-center space-x-3 mb-2">
                                                            <h5 class="font-semibold text-primary hover:underline cursor-pointer">ai-platform-backend</h5>
                                                            <span class="px-2 py-1 bg-yellow/10 text-yellow text-xs rounded-full">私有</span>
                                                        </div>
                                                        <p class="text-sm text-muted-foreground mb-3">AI开发平台后端API - Node.js + Express</p>
                                                        <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                                            <div class="flex items-center space-x-1">
                                                                <div class="w-3 h-3 bg-green rounded-full"></div>
                                                                <span>JavaScript</span>
                                                            </div>
                                                            <div class="flex items-center space-x-1">
                                                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                                                                </svg>
                                                                <span>8</span>
                                                            </div>
                                                            <div class="flex items-center space-x-1">
                                                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path fill-rule="evenodd" d="M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                                </svg>
                                                                <span>3</span>
                                                            </div>
                                                            <span>更新于 4小时前</span>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">克隆</button>
                                                        <button class="px-3 py-1.5 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs">查看</button>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">分支</button>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">提交</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 文档仓库 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex-1">
                                                        <div class="flex items-center space-x-3 mb-2">
                                                            <h5 class="font-semibold text-primary hover:underline cursor-pointer">ai-platform-docs</h5>
                                                            <span class="px-2 py-1 bg-blue/10 text-blue text-xs rounded-full">公开</span>
                                                        </div>
                                                        <p class="text-sm text-muted-foreground mb-3">项目文档和API文档 - Markdown + VuePress</p>
                                                        <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                                            <div class="flex items-center space-x-1">
                                                                <div class="w-3 h-3 bg-purple rounded-full"></div>
                                                                <span>Markdown</span>
                                                            </div>
                                                            <div class="flex items-center space-x-1">
                                                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                                                                </svg>
                                                                <span>3</span>
                                                            </div>
                                                            <div class="flex items-center space-x-1">
                                                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                                    <path fill-rule="evenodd" d="M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                                </svg>
                                                                <span>1</span>
                                                            </div>
                                                            <span>更新于 1天前</span>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">克隆</button>
                                                        <button class="px-3 py-1.5 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs">查看</button>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">分支</button>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">提交</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 最近提交 -->
                                    <div class="bg-card border border-border rounded-lg">
                                        <div class="p-4 border-b border-border">
                                            <h4 class="text-lg font-semibold">最近提交</h4>
                                        </div>
                                        <div class="divide-y divide-border">
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center space-x-4">
                                                    <div class="w-8 h-8 bg-blue/10 rounded-full flex items-center justify-center">
                                                        <span class="text-blue font-semibold text-sm">李</span>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="flex items-center space-x-2 mb-1">
                                                            <span class="font-medium">李前端开发</span>
                                                            <span class="text-sm text-muted-foreground">提交到</span>
                                                            <span class="text-sm font-medium text-primary">ai-platform-frontend</span>
                                                        </div>
                                                        <p class="text-sm text-muted-foreground">feat: 添加用户权限管理界面</p>
                                                    </div>
                                                    <div class="text-sm text-muted-foreground">2小时前</div>
                                                </div>
                                            </div>
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center space-x-4">
                                                    <div class="w-8 h-8 bg-green/10 rounded-full flex items-center justify-center">
                                                        <span class="text-green font-semibold text-sm">王</span>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="flex items-center space-x-2 mb-1">
                                                            <span class="font-medium">王后端开发</span>
                                                            <span class="text-sm text-muted-foreground">提交到</span>
                                                            <span class="text-sm font-medium text-primary">ai-platform-backend</span>
                                                        </div>
                                                        <p class="text-sm text-muted-foreground">fix: 修复用户登录接口的权限验证问题</p>
                                                    </div>
                                                    <div class="text-sm text-muted-foreground">4小时前</div>
                                                </div>
                                            </div>
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center space-x-4">
                                                    <div class="w-8 h-8 bg-purple/10 rounded-full flex items-center justify-center">
                                                        <span class="text-purple font-semibold text-sm">张</span>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="flex items-center space-x-2 mb-1">
                                                            <span class="font-medium">张项目经理</span>
                                                            <span class="text-sm text-muted-foreground">提交到</span>
                                                            <span class="text-sm font-medium text-primary">ai-platform-docs</span>
                                                        </div>
                                                        <p class="text-sm text-muted-foreground">docs: 更新API文档和部署指南</p>
                                                    </div>
                                                    <div class="text-sm text-muted-foreground">1天前</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 云编辑器界面 -->
                                    <div class="hidden" data-dev-tab-content="cloud-editor">
                                        <div class="bg-card border border-border rounded-lg p-4">
                                            <div class="flex items-center justify-between mb-4">
                                                <h3 class="text-lg font-semibold">云端代码编辑器</h3>
                                                <div class="flex space-x-2">
                                                    <button class="px-3 py-1.5 border border-border rounded text-sm hover:bg-accent" onclick="saveAllFiles()">
                                                        保存所有文件
                                                    </button>
                                                    <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-sm hover:bg-gray-800" onclick="runCode()">
                                                        运行代码
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- 编辑器主体 -->
                                            <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 h-96">
                                                <!-- 文件树 -->
                                                <div class="lg:col-span-1 border border-border rounded-lg">
                                                    <div class="p-3 border-b border-border bg-muted">
                                                        <h4 class="text-sm font-medium">项目文件</h4>
                                                    </div>
                                                    <div class="p-2 text-sm" id="file-tree">
                                                        <div class="flex items-center space-x-2 py-1 px-2 hover:bg-accent rounded cursor-pointer" onclick="toggleFolder(this)">
                                                            <span class="text-xs folder-icon">📁</span>
                                                            <span class="font-medium">src</span>
                                                        </div>
                                                        <div class="folder-content ml-4">
                                                            <div class="flex items-center space-x-2 py-1 px-2 hover:bg-accent rounded cursor-pointer" onclick="openFileInEditor('Header.tsx')">
                                                                <span class="text-xs">📄</span>
                                                                <span>Header.tsx</span>
                                                            </div>
                                                            <div class="flex items-center space-x-2 py-1 px-2 hover:bg-accent rounded cursor-pointer" onclick="openFileInEditor('Navigation.tsx')">
                                                                <span class="text-xs">📄</span>
                                                                <span>Navigation.tsx</span>
                                                            </div>
                                                            <div class="flex items-center space-x-2 py-1 px-2 hover:bg-accent rounded cursor-pointer" onclick="openFileInEditor('Layout.tsx')">
                                                                <span class="text-xs">📄</span>
                                                                <span>Layout.tsx</span>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center space-x-2 py-1 px-2 hover:bg-accent rounded cursor-pointer" onclick="toggleFolder(this)">
                                                            <span class="text-xs folder-icon">📁</span>
                                                            <span class="font-medium">styles</span>
                                                        </div>
                                                        <div class="folder-content ml-4">
                                                            <div class="flex items-center space-x-2 py-1 px-2 hover:bg-accent rounded cursor-pointer" onclick="openFileInEditor('layout.css')">
                                                                <span class="text-xs">📄</span>
                                                                <span>layout.css</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- 代码编辑器 -->
                                                <div class="lg:col-span-2 border border-border rounded-lg">
                                                    <!-- 编辑器标签页 -->
                                                    <div class="flex border-b border-border bg-muted" id="editor-tabs">
                                                        <div class="flex items-center space-x-2 px-4 py-2 border-r border-border bg-card cursor-pointer">
                                                            <span class="text-sm">Header.tsx</span>
                                                            <button class="text-xs hover:text-destructive" onclick="closeEditorTab('Header.tsx')">×</button>
                                                        </div>
                                                    </div>
                                                    <!-- Monaco Editor容器 -->
                                                    <div id="monaco-editor-container" class="h-80 bg-background">
                                                        <div class="flex items-center justify-center h-full bg-muted">
                                                            <div class="text-center">
                                                                <div class="text-lg font-medium mb-2">代码编辑器</div>
                                                                <div class="text-sm text-muted-foreground">点击左侧文件查看代码</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- 实时监控面板 -->
                                                <div class="lg:col-span-1 border border-border rounded-lg">
                                                    <div class="p-3 border-b border-border bg-muted">
                                                        <h4 class="text-sm font-medium">实时监控</h4>
                                                    </div>
                                                    <div class="p-2 space-y-3">
                                                        <!-- Agent状态 -->
                                                        <div class="text-xs">
                                                            <div class="flex items-center justify-between mb-1">
                                                                <span class="text-muted-foreground">Agent状态:</span>
                                                                <span class="text-success">运行中</span>
                                                            </div>
                                                            <div class="flex items-center justify-between mb-1">
                                                                <span class="text-muted-foreground">进度:</span>
                                                                <span data-progress>75%</span>
                                                            </div>
                                                            <div class="w-full bg-muted rounded-full h-1.5">
                                                                <div class="bg-primary h-1.5 rounded-full" style="width: 75%"></div>
                                                            </div>
                                                        </div>

                                                        <!-- 文件变更 -->
                                                        <div class="text-xs">
                                                            <div class="text-muted-foreground mb-2">文件变更:</div>
                                                            <div id="file-changes" class="space-y-1">
                                                                <div class="flex items-center justify-between p-2 bg-muted rounded">
                                                                    <span>Header.tsx</span>
                                                                    <span class="text-success">已生成</span>
                                                                </div>
                                                                <div class="flex items-center justify-between p-2 bg-muted rounded">
                                                                    <span>Navigation.tsx</span>
                                                                    <span class="text-warning">生成中...</span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- 控制按钮 -->
                                                        <div class="space-y-2">
                                                            <button class="w-full px-3 py-1.5 border border-border rounded text-xs hover:bg-accent" onclick="pauseAgent()">
                                                                暂停Agent
                                                            </button>
                                                            <button class="w-full px-3 py-1.5 border border-destructive text-destructive rounded text-xs hover:bg-destructive hover:text-destructive-foreground" onclick="stopAgent()">
                                                                停止Agent
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 日志输出 -->
                                            <div class="mt-4 border border-border rounded-lg">
                                                <div class="flex items-center justify-between p-3 border-b border-border bg-muted">
                                                    <h4 class="text-sm font-medium">Agent执行日志</h4>
                                                    <div class="flex space-x-2">
                                                        <button class="px-2 py-1 text-xs border border-border rounded hover:bg-accent" onclick="toggleAutoScroll()">
                                                            自动滚动
                                                        </button>
                                                        <button class="px-2 py-1 text-xs border border-border rounded hover:bg-accent" onclick="clearLogs()">
                                                            清空日志
                                                        </button>
                                                    </div>
                                                </div>
                                                <div id="editor-logs" class="p-3 h-32 overflow-y-auto bg-background font-mono text-xs">
                                                    <div class="text-info">[14:30:15] 正在分析需求文档...</div>
                                                    <div class="text-info">[14:30:18] 开始生成Header组件...</div>
                                                    <div class="text-success">[14:30:22] Header.tsx 生成完成</div>
                                                    <div class="text-info">[14:30:25] 开始生成Navigation组件...</div>
                                                    <div class="text-warning">[14:30:28] 正在优化响应式布局...</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 部署管理 -->
                            <div id="deployment-content" class="detail-tab-content hidden">
                                <div class="space-y-6">
                                    <div class="flex items-center justify-between">
                                        <h3 class="text-lg font-semibold">CI/CD 部署管理</h3>
                                        <div class="flex items-center space-x-3">
                                            <button class="px-4 py-2 bg-success text-success-foreground rounded-md hover:bg-success/80">
                                                新建工作流
                                            </button>
                                            <button class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/80">
                                                查看日志
                                            </button>
                                        </div>
                                    </div>

                                    <!-- 部署状态概览 -->
                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">活跃工作流</p>
                                                    <p class="text-lg font-bold">5</p>
                                                </div>
                                                <div class="w-10 h-10 bg-blue/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">⚙️</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">成功部署</p>
                                                    <p class="text-lg font-bold">142</p>
                                                </div>
                                                <div class="w-10 h-10 bg-green/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">✅</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">失败构建</p>
                                                    <p class="text-lg font-bold">8</p>
                                                </div>
                                                <div class="w-10 h-10 bg-red/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">❌</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">部署环境</p>
                                                    <p class="text-lg font-bold">3</p>
                                                </div>
                                                <div class="w-10 h-10 bg-purple/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">🌐</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 工作流状态 -->
                                    <div class="bg-card border border-border rounded-lg">
                                        <div class="p-4 border-b border-border">
                                            <h4 class="text-lg font-semibold">工作流状态</h4>
                                        </div>
                                        <div class="divide-y divide-border">
                                            <!-- CI/CD 工作流 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <div class="w-8 h-8 bg-green/10 rounded-full flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-green" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">CI/CD Pipeline</h5>
                                                            <p class="text-sm text-muted-foreground">主分支自动构建和部署</p>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-4">
                                                        <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                        <span class="text-sm text-muted-foreground">2分钟前</span>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">查看</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 测试工作流 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <div class="w-8 h-8 bg-blue/10 rounded-full flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-blue" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">自动化测试</h5>
                                                            <p class="text-sm text-muted-foreground">单元测试和集成测试</p>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-4">
                                                        <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">通过</span>
                                                        <span class="text-sm text-muted-foreground">5分钟前</span>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">查看</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 代码质量检查 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <div class="w-8 h-8 bg-yellow/10 rounded-full flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-yellow" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">代码质量检查</h5>
                                                            <p class="text-sm text-muted-foreground">ESLint 和 SonarQube 分析</p>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-4">
                                                        <span class="px-2 py-1 bg-yellow/10 text-yellow text-xs rounded-full">警告</span>
                                                        <span class="text-sm text-muted-foreground">10分钟前</span>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">查看</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 部署环境 -->
                                    <div class="bg-card border border-border rounded-lg">
                                        <div class="p-4 border-b border-border">
                                            <div class="flex items-center justify-between">
                                                <h4 class="text-lg font-semibold">部署环境</h4>
                                                <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs hover:bg-primary/80">
                                                    新增环境
                                                </button>
                                            </div>
                                        </div>
                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 p-4">
                                            <!-- 开发环境 -->
                                            <div class="border border-border rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="w-3 h-3 bg-blue rounded-full"></div>
                                                        <h5 class="font-semibold">开发环境</h5>
                                                    </div>
                                                    <span class="px-2 py-1 bg-blue/10 text-blue text-xs rounded-full">活跃</span>
                                                </div>
                                                <div class="space-y-2 text-sm">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">URL:</span>
                                                        <span class="text-primary">dev.ai-platform.com</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">分支:</span>
                                                        <span>develop</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">最后部署:</span>
                                                        <span>2小时前</span>
                                                    </div>
                                                </div>
                                                <div class="mt-3 flex space-x-2">
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                </div>
                                            </div>

                                            <!-- 测试环境 -->
                                            <div class="border border-border rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="w-3 h-3 bg-yellow rounded-full"></div>
                                                        <h5 class="font-semibold">测试环境</h5>
                                                    </div>
                                                    <span class="px-2 py-1 bg-yellow/10 text-yellow text-xs rounded-full">部署中</span>
                                                </div>
                                                <div class="space-y-2 text-sm">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">URL:</span>
                                                        <span class="text-primary">test.ai-platform.com</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">分支:</span>
                                                        <span>release/v1.2</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">最后部署:</span>
                                                        <span>正在进行</span>
                                                    </div>
                                                </div>
                                                <div class="mt-3 flex space-x-2">
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                </div>
                                            </div>

                                            <!-- 生产环境 -->
                                            <div class="border border-border rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="w-3 h-3 bg-green rounded-full"></div>
                                                        <h5 class="font-semibold">生产环境</h5>
                                                    </div>
                                                    <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">稳定</span>
                                                </div>
                                                <div class="space-y-2 text-sm">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">URL:</span>
                                                        <span class="text-primary">ai-platform.com</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">分支:</span>
                                                        <span>main</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">最后部署:</span>
                                                        <span>1天前</span>
                                                    </div>
                                                </div>
                                                <div class="mt-3 flex space-x-2">
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 构建历史 -->
                                    <div class="bg-card border border-border rounded-lg">
                                        <div class="p-4 border-b border-border">
                                            <div class="flex items-center justify-between">
                                                <h4 class="text-lg font-semibold">构建历史</h4>
                                                <div class="flex items-center space-x-3">
                                                    <select class="px-3 py-1.5 bg-background border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring">
                                                        <option>全部分支</option>
                                                        <option>main</option>
                                                        <option>develop</option>
                                                        <option>release/*</option>
                                                    </select>
                                                    <button class="px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs hover:bg-primary/80">
                                                        重新运行
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="divide-y divide-border">
                                            <!-- 成功构建 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <div class="w-8 h-8 bg-green/10 rounded-full flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-green" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <div class="flex items-center space-x-2 mb-1">
                                                                <h5 class="font-semibold">#142</h5>
                                                                <span class="text-sm text-muted-foreground">feat: 添加用户权限管理</span>
                                                            </div>
                                                            <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                                                <span>main</span>
                                                                <span>•</span>
                                                                <span>李前端开发</span>
                                                                <span>•</span>
                                                                <span>2小时前</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-4">
                                                        <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">成功</span>
                                                        <span class="text-sm text-muted-foreground">3m 24s</span>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">详情</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 失败构建 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <div class="w-8 h-8 bg-red/10 rounded-full flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-red" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <div class="flex items-center space-x-2 mb-1">
                                                                <h5 class="font-semibold">#141</h5>
                                                                <span class="text-sm text-muted-foreground">fix: 修复登录接口问题</span>
                                                            </div>
                                                            <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                                                <span>develop</span>
                                                                <span>•</span>
                                                                <span>王后端开发</span>
                                                                <span>•</span>
                                                                <span>4小时前</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-4">
                                                        <span class="px-2 py-1 bg-red/10 text-red text-xs rounded-full">失败</span>
                                                        <span class="text-sm text-muted-foreground">1m 12s</span>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">详情</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 进行中构建 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <div class="w-8 h-8 bg-yellow/10 rounded-full flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-yellow animate-spin" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <div class="flex items-center space-x-2 mb-1">
                                                                <h5 class="font-semibold">#143</h5>
                                                                <span class="text-sm text-muted-foreground">refactor: 优化代码结构</span>
                                                            </div>
                                                            <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                                                <span>feature/refactor</span>
                                                                <span>•</span>
                                                                <span>张项目经理</span>
                                                                <span>•</span>
                                                                <span>正在运行</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-4">
                                                        <span class="px-2 py-1 bg-yellow/10 text-yellow text-xs rounded-full">运行中</span>
                                                        <span class="text-sm text-muted-foreground">2m 45s</span>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">取消</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 跳过构建 -->
                                            <div class="p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <div class="w-8 h-8 bg-gray/10 rounded-full flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-gray" fill="currentColor" viewBox="0 0 20 20">
                                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <div class="flex items-center space-x-2 mb-1">
                                                                <h5 class="font-semibold">#140</h5>
                                                                <span class="text-sm text-muted-foreground">docs: 更新文档</span>
                                                            </div>
                                                            <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                                                <span>docs/update</span>
                                                                <span>•</span>
                                                                <span>赵文档管理</span>
                                                                <span>•</span>
                                                                <span>6小时前</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-4">
                                                        <span class="px-2 py-1 bg-gray/10 text-gray text-xs rounded-full">跳过</span>
                                                        <span class="text-sm text-muted-foreground">--</span>
                                                        <button class="px-3 py-1.5 bg-muted hover:bg-accent border border-border rounded text-xs">详情</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 资源管理 -->
                            <div id="resources-content" class="detail-tab-content hidden">
                                <div class="space-y-6">
                                    <div class="flex items-center justify-between">
                                        <h3 class="text-lg font-semibold">项目资源管理</h3>
                                        <div class="flex items-center space-x-3">
                                            <button class="px-4 py-2 bg-success text-success-foreground rounded-md hover:bg-success/80">
                                                创建数据库
                                            </button>
                                            <button class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/80">
                                                创建应用
                                            </button>
                                        </div>
                                    </div>

                                    <!-- 资源概览 -->
                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">数据库实例</p>
                                                    <p class="text-lg font-bold">3</p>
                                                </div>
                                                <div class="w-10 h-10 bg-blue/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">🗄️</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">应用服务</p>
                                                    <p class="text-lg font-bold">5</p>
                                                </div>
                                                <div class="w-10 h-10 bg-green/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">🚀</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">运行中服务</p>
                                                    <p class="text-lg font-bold">4</p>
                                                </div>
                                                <div class="w-10 h-10 bg-green/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">✅</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bg-muted rounded-lg p-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm text-muted-foreground">存储使用</p>
                                                    <p class="text-lg font-bold">2.5GB</p>
                                                </div>
                                                <div class="w-10 h-10 bg-purple/10 rounded-lg flex items-center justify-center">
                                                    <span class="text-xl">💾</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 数据库管理 -->
                                    <div class="bg-card border border-border rounded-lg">
                                        <div class="p-4 border-b border-border">
                                            <div class="flex items-center justify-between">
                                                <h4 class="text-lg font-semibold">数据库管理</h4>
                                                <div class="flex items-center space-x-3">
                                                    <input type="text" placeholder="搜索数据库..." class="px-3 py-1.5 bg-background border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring">
                                                    <select class="px-3 py-1.5 bg-background border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring">
                                                        <option>全部类型</option>
                                                        <option>MySQL</option>
                                                        <option>PostgreSQL</option>
                                                        <option>Redis</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="overflow-x-auto">
                                            <table class="w-full">
                                                <thead class="bg-muted">
                                                    <tr>
                                                        <th class="px-4 py-3 text-left text-sm font-medium text-muted-foreground">实例名称</th>
                                                        <th class="px-4 py-3 text-left text-sm font-medium text-muted-foreground">类型</th>
                                                        <th class="px-4 py-3 text-left text-sm font-medium text-muted-foreground">版本</th>
                                                        <th class="px-4 py-3 text-left text-sm font-medium text-muted-foreground">连接地址</th>
                                                        <th class="px-4 py-3 text-left text-sm font-medium text-muted-foreground">状态</th>
                                                        <th class="px-4 py-3 text-left text-sm font-medium text-muted-foreground">操作</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="divide-y divide-border">
                                                    <!-- MySQL 主库 -->
                                                    <tr class="hover:bg-muted/50">
                                                        <td class="px-4 py-3">
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-xl">🐬</span>
                                                                <div>
                                                                    <p class="font-medium">ai-platform-mysql</p>
                                                                    <p class="text-sm text-muted-foreground">主数据库</p>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="px-4 py-3 text-sm">MySQL</td>
                                                        <td class="px-4 py-3 text-sm">8.0.35</td>
                                                        <td class="px-4 py-3 text-sm font-mono">mysql.ai-platform.local:3306</td>
                                                        <td class="px-4 py-3">
                                                            <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                        </td>
                                                        <td class="px-4 py-3">
                                                            <div class="flex items-center space-x-2">
                                                                <button class="px-2 py-1 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs" onclick="viewDatabaseDetails('ai-platform-mysql')">查看详情</button>
                                                                <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">监控</button>
                                                                <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">备份</button>
                                                            </div>
                                                        </td>
                                                    </tr>

                                                    <!-- Redis 缓存 -->
                                                    <tr class="hover:bg-muted/50">
                                                        <td class="px-4 py-3">
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-xl">🔴</span>
                                                                <div>
                                                                    <p class="font-medium">ai-platform-redis</p>
                                                                    <p class="text-sm text-muted-foreground">缓存数据库</p>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="px-4 py-3 text-sm">Redis</td>
                                                        <td class="px-4 py-3 text-sm">7.0.12</td>
                                                        <td class="px-4 py-3 text-sm font-mono">redis.ai-platform.local:6379</td>
                                                        <td class="px-4 py-3">
                                                            <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                        </td>
                                                        <td class="px-4 py-3">
                                                            <div class="flex items-center space-x-2">
                                                                <button class="px-2 py-1 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs" onclick="viewDatabaseDetails('ai-platform-redis')">查看详情</button>
                                                                <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">监控</button>
                                                                <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">清理</button>
                                                            </div>
                                                        </td>
                                                    </tr>

                                                    <!-- PostgreSQL 分析库 -->
                                                    <tr class="hover:bg-muted/50">
                                                        <td class="px-4 py-3">
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-xl">🐘</span>
                                                                <div>
                                                                    <p class="font-medium">ai-platform-analytics</p>
                                                                    <p class="text-sm text-muted-foreground">数据分析库</p>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="px-4 py-3 text-sm">PostgreSQL</td>
                                                        <td class="px-4 py-3 text-sm">15.4</td>
                                                        <td class="px-4 py-3 text-sm font-mono">postgres.ai-platform.local:5432</td>
                                                        <td class="px-4 py-3">
                                                            <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                        </td>
                                                        <td class="px-4 py-3">
                                                            <div class="flex items-center space-x-2">
                                                                <button class="px-2 py-1 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs" onclick="viewDatabaseDetails('ai-platform-analytics')">查看详情</button>
                                                                <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">监控</button>
                                                                <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">备份</button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <!-- 应用服务管理 -->
                                    <div class="bg-card border border-border rounded-lg">
                                        <div class="p-4 border-b border-border">
                                            <div class="flex items-center justify-between">
                                                <h4 class="text-lg font-semibold">应用服务管理</h4>
                                                <div class="flex items-center space-x-3">
                                                    <input type="text" placeholder="搜索应用..." class="px-3 py-1.5 bg-background border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring">
                                                    <select class="px-3 py-1.5 bg-background border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring">
                                                        <option>全部状态</option>
                                                        <option>运行中</option>
                                                        <option>已停止</option>
                                                        <option>部署中</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
                                            <!-- 前端应用 -->
                                            <div class="border border-border rounded-lg p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-10 h-10 bg-blue/10 rounded-lg flex items-center justify-center">
                                                            <span class="text-xl">🌐</span>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">AI平台前端</h5>
                                                            <p class="text-sm text-muted-foreground">React应用</p>
                                                        </div>
                                                    </div>
                                                    <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                </div>
                                                <div class="space-y-2 text-sm mb-3">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">端口:</span>
                                                        <span>3000</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">内存:</span>
                                                        <span>256MB</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">CPU:</span>
                                                        <span>15%</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">运行时间:</span>
                                                        <span>2天</span>
                                                    </div>
                                                </div>
                                                <div class="flex space-x-2">
                                                    <button class="px-2 py-1 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs">访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">重启</button>
                                                </div>
                                            </div>

                                            <!-- 后端API -->
                                            <div class="border border-border rounded-lg p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-10 h-10 bg-green/10 rounded-lg flex items-center justify-center">
                                                            <span class="text-xl">⚙️</span>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">AI平台API</h5>
                                                            <p class="text-sm text-muted-foreground">Node.js服务</p>
                                                        </div>
                                                    </div>
                                                    <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                </div>
                                                <div class="space-y-2 text-sm mb-3">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">端口:</span>
                                                        <span>8080</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">内存:</span>
                                                        <span>512MB</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">CPU:</span>
                                                        <span>25%</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">运行时间:</span>
                                                        <span>2天</span>
                                                    </div>
                                                </div>
                                                <div class="flex space-x-2">
                                                    <button class="px-2 py-1 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs">访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">重启</button>
                                                </div>
                                            </div>

                                            <!-- AI服务 -->
                                            <div class="border border-border rounded-lg p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-10 h-10 bg-purple/10 rounded-lg flex items-center justify-center">
                                                            <span class="text-xl">🤖</span>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">AI推理服务</h5>
                                                            <p class="text-sm text-muted-foreground">Python服务</p>
                                                        </div>
                                                    </div>
                                                    <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                </div>
                                                <div class="space-y-2 text-sm mb-3">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">端口:</span>
                                                        <span>5000</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">内存:</span>
                                                        <span>1GB</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">CPU:</span>
                                                        <span>45%</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">运行时间:</span>
                                                        <span>1天</span>
                                                    </div>
                                                </div>
                                                <div class="flex space-x-2">
                                                    <button class="px-2 py-1 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs">访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">重启</button>
                                                </div>
                                            </div>

                                            <!-- 监控服务 -->
                                            <div class="border border-border rounded-lg p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-10 h-10 bg-yellow/10 rounded-lg flex items-center justify-center">
                                                            <span class="text-xl">📊</span>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">监控服务</h5>
                                                            <p class="text-sm text-muted-foreground">Prometheus</p>
                                                        </div>
                                                    </div>
                                                    <span class="px-2 py-1 bg-green/10 text-green text-xs rounded-full">运行中</span>
                                                </div>
                                                <div class="space-y-2 text-sm mb-3">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">端口:</span>
                                                        <span>9090</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">内存:</span>
                                                        <span>128MB</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">CPU:</span>
                                                        <span>8%</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">运行时间:</span>
                                                        <span>5天</span>
                                                    </div>
                                                </div>
                                                <div class="flex space-x-2">
                                                    <button class="px-2 py-1 bg-primary hover:bg-primary/80 text-primary-foreground rounded text-xs">访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">重启</button>
                                                </div>
                                            </div>

                                            <!-- 文档服务 -->
                                            <div class="border border-border rounded-lg p-4 hover:bg-muted/50">
                                                <div class="flex items-center justify-between mb-3">
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-10 h-10 bg-indigo/10 rounded-lg flex items-center justify-center">
                                                            <span class="text-xl">📚</span>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-semibold">文档服务</h5>
                                                            <p class="text-sm text-muted-foreground">VuePress</p>
                                                        </div>
                                                    </div>
                                                    <span class="px-2 py-1 bg-yellow/10 text-yellow text-xs rounded-full">部署中</span>
                                                </div>
                                                <div class="space-y-2 text-sm mb-3">
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">端口:</span>
                                                        <span>8081</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">内存:</span>
                                                        <span>--</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">CPU:</span>
                                                        <span>--</span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-muted-foreground">状态:</span>
                                                        <span>启动中</span>
                                                    </div>
                                                </div>
                                                <div class="flex space-x-2">
                                                    <button class="px-2 py-1 bg-muted border border-border rounded text-xs" disabled>访问</button>
                                                    <button class="px-2 py-1 bg-muted hover:bg-accent border border-border rounded text-xs">日志</button>
                                                    <button class="px-2 py-1 bg-red/10 text-red hover:bg-red/20 rounded text-xs">停止</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </main>
    </div>

    <!-- 移动端遮罩 -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden hidden"></div>

    <script>
        // 二级菜单交互功能
        document.addEventListener('DOMContentLoaded', function() {
            // 处理二级菜单展开/收起
            const navToggles = document.querySelectorAll('.nav-toggle');
            
            navToggles.forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.dataset.target;
                    const submenu = document.getElementById(targetId);
                    const chevron = this.querySelector('.chevron-icon');
                    
                    if (submenu) {
                        // 切换展开状态
                        submenu.classList.toggle('expanded');
                        submenu.classList.toggle('hidden');
                        chevron.classList.toggle('rotated');
                    }
                });
            });

            // 移动端侧边栏切换
            const sidebarToggle = document.getElementById('sidebar-toggle');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');

            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('-translate-x-full');
                overlay.classList.toggle('hidden');
            });

            overlay.addEventListener('click', function() {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            });

            // 从URL参数获取项目ID并加载项目数据
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id') || 'ai-platform';
            loadProjectData(projectId);

            // 详情页面标签页切换
            const detailTabs = document.querySelectorAll('[data-detail-tab]');
            const detailContents = document.querySelectorAll('.detail-tab-content');

            detailTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.detailTab;

                    // 更新标签页样式
                    detailTabs.forEach(t => {
                        t.classList.remove('border-primary', 'text-primary');
                        t.classList.add('border-transparent', 'text-muted-foreground');
                    });
                    this.classList.remove('border-transparent', 'text-muted-foreground');
                    this.classList.add('border-primary', 'text-primary');

                    // 显示对应内容
                    detailContents.forEach(content => {
                        content.classList.add('hidden');
                    });
                    document.getElementById(targetTab + '-content').classList.remove('hidden');
                });
            });
        });

        // 加载项目数据
        function loadProjectData(projectId) {
            const projectData = getProjectData(projectId);
            if (projectData) {
                updateProjectInfo(projectData);
            }
        }

        // 获取项目数据
        function getProjectData(projectId) {
            const projects = {
                'ai-platform': {
                    id: 'ai-platform',
                    name: 'AI开发平台',
                    description: '智能化开发工具平台，提供AI辅助编程功能',
                    status: '进行中',
                    statusColor: 'green',
                    manager: '张项目经理',
                    createTime: '2024-01-15',
                    updateTime: '2024-01-21',
                    progress: '75%',
                    icon: '🤖',
                    iconBg: 'purple'
                },
                'payment-system': {
                    id: 'payment-system',
                    name: '支付系统',
                    description: '多渠道支付集成系统，支持微信、支付宝等',
                    status: '开发中',
                    statusColor: 'yellow',
                    manager: '李技术总监',
                    createTime: '2024-01-10',
                    updateTime: '2024-01-21',
                    progress: '45%',
                    icon: '💳',
                    iconBg: 'green'
                },
                'mobile-app': {
                    id: 'mobile-app',
                    name: '移动应用',
                    description: '跨平台移动应用开发，支持iOS和Android',
                    status: '已完成',
                    statusColor: 'green',
                    manager: '王移动开发',
                    createTime: '2023-12-01',
                    updateTime: '2024-01-15',
                    progress: '100%',
                    icon: '📱',
                    iconBg: 'blue'
                }
            };
            
            return projects[projectId] || null;
        }

        // 更新项目信息
        function updateProjectInfo(projectData) {
            // 颜色映射
            const colorClasses = {
                blue: { bg: 'bg-blue/10', text: 'text-blue' },
                green: { bg: 'bg-green/10', text: 'text-green' },
                yellow: { bg: 'bg-yellow/10', text: 'text-yellow' },
                purple: { bg: 'bg-purple/10', text: 'text-purple' },
                red: { bg: 'bg-red/10', text: 'text-red' }
            };
            
            // 更新基本信息
            const iconColor = colorClasses[projectData.iconBg] || colorClasses.purple;
            document.getElementById('project-icon').innerHTML = `<span class="${iconColor.text} font-semibold text-2xl">${projectData.icon}</span>`;
            document.getElementById('project-icon').className = `w-16 h-16 ${iconColor.bg} rounded-lg flex items-center justify-center`;
            document.getElementById('project-title').textContent = projectData.name;
            document.getElementById('project-description').textContent = projectData.description;
            
            // 更新状态
            const statusColor = colorClasses[projectData.statusColor] || colorClasses.green;
            document.getElementById('project-status').textContent = projectData.status;
            document.getElementById('project-status').className = `px-3 py-1 ${statusColor.bg} ${statusColor.text} text-sm rounded-full`;
            
            // 更新页面标题
            document.title = `${projectData.name} - 项目详情 - AI开发平台`;
        }

        // 数据库详情查看功能
        function viewDatabaseDetails(databaseId) {
            const databaseInfo = {
                'ai-platform-mysql': {
                    name: 'AI平台主数据库',
                    type: 'MySQL',
                    version: '8.0.35',
                    host: 'mysql.ai-platform.local:3306',
                    databases: ['ai_platform', 'user_management', 'project_data'],
                    tables: {
                        'ai_platform': ['users', 'projects', 'tasks', 'requirements'],
                        'user_management': ['user_profiles', 'permissions', 'roles'],
                        'project_data': ['project_files', 'code_repos', 'deployments']
                    }
                },
                'ai-platform-redis': {
                    name: 'AI平台缓存数据库',
                    type: 'Redis',
                    version: '7.0.12',
                    host: 'redis.ai-platform.local:6379',
                    databases: ['0', '1', '2'],
                    keys: ['session:*', 'cache:*', 'queue:*']
                },
                'ai-platform-analytics': {
                    name: 'AI平台分析数据库',
                    type: 'PostgreSQL',
                    version: '15.4',
                    host: 'postgres.ai-platform.local:5432',
                    databases: ['analytics', 'logs', 'metrics'],
                    tables: {
                        'analytics': ['user_behavior', 'feature_usage', 'performance_metrics'],
                        'logs': ['application_logs', 'error_logs', 'audit_logs'],
                        'metrics': ['system_metrics', 'business_metrics', 'custom_metrics']
                    }
                }
            };

            const dbInfo = databaseInfo[databaseId];
            if (dbInfo) {
                let detailsText = `数据库详情：${dbInfo.name}\n\n`;
                detailsText += `类型：${dbInfo.type}\n`;
                detailsText += `版本：${dbInfo.version}\n`;
                detailsText += `连接地址：${dbInfo.host}\n\n`;

                if (dbInfo.type === 'Redis') {
                    detailsText += `数据库：${dbInfo.databases.join(', ')}\n`;
                    detailsText += `主要键模式：${dbInfo.keys.join(', ')}\n\n`;
                } else {
                    detailsText += `数据库列表：${dbInfo.databases.join(', ')}\n\n`;
                    if (dbInfo.tables) {
                        detailsText += `数据表信息：\n`;
                        Object.keys(dbInfo.tables).forEach(db => {
                            detailsText += `  ${db}: ${dbInfo.tables[db].join(', ')}\n`;
                        });
                    }
                }

                detailsText += `\n点击"查看详情"可以进入数据库管理界面，对库表数据进行查询操作。`;
                alert(detailsText);
            }
        }

        // 开发任务标签页交互功能
        document.addEventListener('DOMContentLoaded', function() {
            // 开发任务子标签页切换
            const devTabs = document.querySelectorAll('[data-dev-tab]');
            const devTabContents = document.querySelectorAll('[data-dev-tab-content]');

            devTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-dev-tab');

                    // 更新标签页样式
                    devTabs.forEach(t => {
                        t.classList.remove('border-primary', 'text-primary', 'font-medium');
                        t.classList.add('border-transparent', 'text-muted-foreground');
                    });
                    this.classList.remove('border-transparent', 'text-muted-foreground');
                    this.classList.add('border-primary', 'text-primary', 'font-medium');

                    // 切换内容
                    devTabContents.forEach(content => {
                        content.classList.add('hidden');
                    });
                    const targetContent = document.querySelector(`[data-dev-tab-content="${targetTab}"]`);
                    if (targetContent) {
                        targetContent.classList.remove('hidden');
                    }
                });
            });

            // 开发任务状态筛选
            const devTaskFilters = document.querySelectorAll('[data-dev-task-filter]');
            const devTaskContents = document.querySelectorAll('[data-dev-task-content]');

            devTaskFilters.forEach(filter => {
                filter.addEventListener('click', function() {
                    const targetFilter = this.getAttribute('data-dev-task-filter');

                    // 更新筛选按钮样式
                    devTaskFilters.forEach(f => {
                        f.classList.remove('bg-primary', 'text-primary-foreground');
                        f.classList.add('text-muted-foreground');
                    });
                    this.classList.remove('text-muted-foreground');
                    this.classList.add('bg-primary', 'text-primary-foreground');

                    // 切换任务内容
                    devTaskContents.forEach(content => {
                        content.classList.add('hidden');
                    });
                    const targetContent = document.querySelector(`[data-dev-task-content="${targetFilter}"]`);
                    if (targetContent) {
                        targetContent.classList.remove('hidden');
                    }
                });
            });
        });

        // 开发任务相关功能函数
        function createNewRequirement() {
            alert('新建需求功能：打开需求创建表单');
        }

        function filterRequirementsByProject() {
            const projectFilter = document.getElementById('project-filter');
            alert(`筛选项目：${projectFilter.value || '全部项目'}`);
        }

        function startTask(taskId) {
            alert(`开始执行任务：${taskId}`);
        }

        function editTask(taskId) {
            alert(`编辑任务：${taskId}`);
        }

        function viewTaskDetails(taskId) {
            alert(`查看任务详情：${taskId}`);
        }

        function deleteTask(taskId) {
            if (confirm(`确定要删除任务 ${taskId} 吗？`)) {
                alert(`任务 ${taskId} 已删除`);
            }
        }

        function viewTaskLogs(taskId) {
            alert(`查看任务日志：${taskId}`);
        }

        function pauseTask(taskId) {
            alert(`暂停任务：${taskId}`);
        }

        function stopTask(taskId) {
            if (confirm(`确定要停止任务 ${taskId} 吗？`)) {
                alert(`任务 ${taskId} 已停止`);
            }
        }

        function viewTaskResult(taskId) {
            alert(`查看任务结果：${taskId}`);
        }

        function downloadCode(taskId) {
            alert(`下载代码：${taskId}`);
        }

        // 云编辑器相关功能函数
        function saveAllFiles() {
            alert('所有文件已保存');
            addEditorLog('[' + new Date().toLocaleTimeString() + '] 所有文件已保存', 'success');
        }

        function runCode() {
            alert('正在运行代码...');
            addEditorLog('[' + new Date().toLocaleTimeString() + '] 开始运行代码', 'info');
        }

        function toggleFolder(element) {
            const folderContent = element.nextElementSibling;
            const folderIcon = element.querySelector('.folder-icon');

            if (folderContent) {
                if (folderContent.style.display === 'none') {
                    folderContent.style.display = 'block';
                    folderIcon.textContent = '📂';
                } else {
                    folderContent.style.display = 'none';
                    folderIcon.textContent = '📁';
                }
            }
        }

        function openFileInEditor(fileName) {
            console.log(`打开文件: ${fileName}`);

            // 模拟文件内容
            const fileContents = {
                'Header.tsx': `import React from 'react';

interface HeaderProps {
  title: string;
  subtitle?: string;
}

const Header: React.FC<HeaderProps> = ({ title, subtitle }) => {
  return (
    <header className="bg-white shadow-sm border-b">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center py-6">
          <div>
            <h1 className="text-2xl font-bold text-gray-900">{title}</h1>
            {subtitle && (
              <p className="text-sm text-gray-600">{subtitle}</p>
            )}
          </div>
        </div>
      </div>
    </header>
  );
};

export default Header;`,
                'Navigation.tsx': `import React from 'react';

const Navigation: React.FC = () => {
  return (
    <nav className="bg-gray-800">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-16">
          <div className="flex items-center">
            <div className="flex-shrink-0">
              <span className="text-white font-bold">AI开发平台</span>
            </div>
          </div>
        </div>
      </div>
    </nav>
  );
};

export default Navigation;`,
                'Layout.tsx': `import React from 'react';
import Header from './Header';
import Navigation from './Navigation';

interface LayoutProps {
  children: React.ReactNode;
}

const Layout: React.FC<LayoutProps> = ({ children }) => {
  return (
    <div className="min-h-screen bg-gray-50">
      <Navigation />
      <Header title="AI开发平台" subtitle="智能化项目管理系统" />
      <main className="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        {children}
      </main>
    </div>
  );
};

export default Layout;`,
                'layout.css': `/* 布局样式 */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;
}

.header {
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid #e5e7eb;
}

.navigation {
  background: #1f2937;
  color: white;
}

.main-content {
  min-height: calc(100vh - 120px);
  background: #f9fafb;
  padding: 24px 0;
}

@media (max-width: 768px) {
  .container {
    padding: 0 12px;
  }

  .main-content {
    padding: 16px 0;
  }
}`
            };

            const content = fileContents[fileName] || `// ${fileName} 文件内容`;

            // 更新编辑器内容显示
            const editorContainer = document.getElementById('monaco-editor-container');
            if (editorContainer) {
                editorContainer.innerHTML = `
                    <div class="h-full p-4 bg-background font-mono text-sm overflow-auto">
                        <pre class="whitespace-pre-wrap">${content}</pre>
                    </div>
                `;
            }

            // 更新标签页
            updateEditorTab(fileName);

            addEditorLog(`[${new Date().toLocaleTimeString()}] 已打开文件: ${fileName}`, 'info');
        }

        function updateEditorTab(fileName) {
            const tabsContainer = document.getElementById('editor-tabs');
            if (tabsContainer) {
                tabsContainer.innerHTML = `
                    <div class="flex items-center space-x-2 px-4 py-2 border-r border-border bg-card cursor-pointer">
                        <span class="text-sm">${fileName}</span>
                        <button class="text-xs hover:text-destructive" onclick="closeEditorTab('${fileName}')">×</button>
                    </div>
                `;
            }
        }

        function closeEditorTab(fileName) {
            console.log(`关闭标签页: ${fileName}`);
            addEditorLog(`[${new Date().toLocaleTimeString()}] 关闭文件: ${fileName}`, 'info');
        }

        function pauseAgent() {
            if (confirm('确定要暂停Agent吗？')) {
                alert('Agent已暂停');
                addEditorLog(`[${new Date().toLocaleTimeString()}] Agent已暂停`, 'warning');
            }
        }

        function stopAgent() {
            if (confirm('确定要停止Agent吗？这将终止当前的代码生成过程。')) {
                alert('Agent已停止');
                addEditorLog(`[${new Date().toLocaleTimeString()}] Agent已停止`, 'destructive');
            }
        }

        function toggleAutoScroll() {
            alert('自动滚动已切换');
        }

        function clearLogs() {
            const editorLogs = document.getElementById('editor-logs');
            if (editorLogs) {
                editorLogs.innerHTML = '';
            }
        }

        function addEditorLog(message, type = 'info') {
            const editorLogs = document.getElementById('editor-logs');
            if (editorLogs) {
                const logEntry = document.createElement('div');
                logEntry.className = `text-${type}`;
                logEntry.textContent = message;

                editorLogs.appendChild(logEntry);
                editorLogs.scrollTop = editorLogs.scrollHeight;
            }
        }

        // 任务详情模态框相关功能函数
        function openTaskDetails(taskId) {
            console.log(`打开任务详情: ${taskId}`);

            // 显示模态框
            const modal = document.getElementById('task-details-modal');
            if (modal) {
                modal.classList.remove('hidden');

                // 更新任务标题
                const title = document.getElementById('task-details-title');
                if (title) {
                    const taskNames = {
                        'task-003': '数据库优化任务 - 开发详情',
                        'task-004': '用户认证模块 - 开发详情',
                        'task-005': '前端界面优化 - 开发详情'
                    };
                    title.textContent = taskNames[taskId] || `${taskId} - 开发详情`;
                }

                // 模拟实时日志更新
                startModalLogSimulation(taskId);
            }
        }

        function closeTaskDetails() {
            const modal = document.getElementById('task-details-modal');
            if (modal) {
                modal.classList.add('hidden');

                // 停止日志模拟
                if (window.modalLogInterval) {
                    clearInterval(window.modalLogInterval);
                    window.modalLogInterval = null;
                }
            }
        }

        function startModalLogSimulation(taskId) {
            // 清除之前的定时器
            if (window.modalLogInterval) {
                clearInterval(window.modalLogInterval);
            }

            // 模拟实时日志更新
            const logMessages = [
                { message: '正在执行代码生成...', type: 'info' },
                { message: '分析项目依赖关系...', type: 'info' },
                { message: '生成数据模型文件...', type: 'success' },
                { message: '优化数据库查询语句...', type: 'warning' },
                { message: '运行单元测试...', type: 'info' },
                { message: '测试通过，代码质量良好', type: 'success' },
                { message: '正在生成API文档...', type: 'info' },
                { message: '部署到测试环境...', type: 'warning' }
            ];

            let messageIndex = 0;
            window.modalLogInterval = setInterval(() => {
                if (messageIndex < logMessages.length) {
                    const log = logMessages[messageIndex];
                    addModalLog(`[${new Date().toLocaleTimeString()}] ${log.message}`, log.type);
                    messageIndex++;
                } else {
                    // 重新开始循环
                    messageIndex = 0;
                }
            }, 3000); // 每3秒添加一条新日志
        }

        function addModalLog(message, type = 'info') {
            const modalLogs = document.getElementById('task-modal-logs');
            if (modalLogs) {
                const logEntry = document.createElement('div');
                logEntry.className = `text-${type}`;
                logEntry.textContent = message;

                modalLogs.appendChild(logEntry);
                modalLogs.scrollTop = modalLogs.scrollHeight;
            }
        }

        function toggleAutoScrollModal() {
            alert('模态框自动滚动已切换');
        }

        function clearModalLogs() {
            const modalLogs = document.getElementById('task-modal-logs');
            if (modalLogs) {
                modalLogs.innerHTML = `
                    <div class="text-info">[16:20:15] 任务开始执行：数据库优化任务</div>
                    <div class="text-info">[16:20:18] 正在分析数据库结构...</div>
                    <div class="text-success">[16:20:22] 数据库连接成功</div>
                `;
            }
        }

        function refreshGeneratedFiles() {
            alert('正在刷新生成的文件列表...');
            addModalLog(`[${new Date().toLocaleTimeString()}] 刷新文件列表`, 'info');
        }

        function downloadAllFiles() {
            alert('正在下载所有生成的文件...');
            addModalLog(`[${new Date().toLocaleTimeString()}] 开始下载文件`, 'success');
        }

        function switchModalTab(fileName) {
            console.log(`切换到文件: ${fileName}`);

            // 更新标签页样式
            const tabs = document.querySelectorAll('#modal-editor-tabs > div');
            tabs.forEach(tab => {
                tab.classList.remove('bg-card');
                tab.classList.add('hover:bg-accent');
            });

            // 激活当前标签页
            event.target.closest('div').classList.remove('hover:bg-accent');
            event.target.closest('div').classList.add('bg-card');

            // 更新代码内容
            const codeContent = document.getElementById('modal-code-content');
            if (codeContent) {
                const fileContents = {
                    'user_logs_idx.sql': `-- 用户日志表索引优化脚本
-- 生成时间: 2024-01-21 16:20:35
-- Agent: GPT-4 Turbo

-- 创建复合索引以优化查询性能
CREATE INDEX idx_user_logs_created_at_user_id
ON user_logs (created_at DESC, user_id);

-- 创建覆盖索引以优化统计查询
CREATE INDEX idx_user_logs_action_created_at
ON user_logs (action, created_at DESC)
INCLUDE (user_id, ip_address);

-- 创建部分索引以优化活跃用户查询
CREATE INDEX idx_user_logs_active_users
ON user_logs (user_id, created_at DESC)
WHERE action IN ('login', 'page_view', 'api_call');

-- 删除冗余的旧索引
DROP INDEX IF EXISTS old_user_logs_created_at;
DROP INDEX IF EXISTS old_user_logs_user_id;

-- 更新表统计信息
ANALYZE user_logs;`,
                    'optimized_queries.sql': `-- 优化后的查询语句
-- 生成时间: 2024-01-21 16:20:48
-- Agent: GPT-4 Turbo

-- 原始慢查询（优化前）
-- SELECT * FROM user_logs WHERE created_at > '2024-01-01';

-- 优化后的查询（性能提升60%）
SELECT user_id, action, created_at, ip_address
FROM user_logs
WHERE created_at > '2024-01-01'
ORDER BY created_at DESC
LIMIT 1000;

-- 统计查询优化
SELECT action, COUNT(*) as count,
       DATE(created_at) as log_date
FROM user_logs
WHERE created_at >= CURRENT_DATE - INTERVAL '30 days'
GROUP BY action, DATE(created_at)
ORDER BY log_date DESC, count DESC;

-- 活跃用户查询优化
SELECT DISTINCT user_id
FROM user_logs
WHERE created_at >= CURRENT_DATE - INTERVAL '7 days'
  AND action IN ('login', 'page_view', 'api_call')
ORDER BY user_id;`,
                    'migration_001.sql': `-- 数据库迁移脚本
-- 版本: 001
-- 生成时间: 2024-01-21 16:20:52
-- Agent: GPT-4 Turbo

-- 开始事务
BEGIN;

-- 备份现有数据
CREATE TABLE user_logs_backup AS
SELECT * FROM user_logs;

-- 添加新字段
ALTER TABLE user_logs
ADD COLUMN session_id VARCHAR(255),
ADD COLUMN user_agent TEXT,
ADD COLUMN response_time INTEGER DEFAULT 0;

-- 创建新索引
CREATE INDEX idx_user_logs_session_id ON user_logs (session_id);
CREATE INDEX idx_user_logs_response_time ON user_logs (response_time)
WHERE response_time > 1000;

-- 更新现有数据
UPDATE user_logs
SET response_time = FLOOR(RANDOM() * 2000 + 100)
WHERE response_time = 0;

-- 提交事务
COMMIT;

-- 验证迁移结果
SELECT COUNT(*) as total_records,
       COUNT(DISTINCT user_id) as unique_users,
       AVG(response_time) as avg_response_time
FROM user_logs;`
                };

                const content = fileContents[fileName] || `-- ${fileName} 文件内容`;
                codeContent.innerHTML = `<pre class="whitespace-pre-wrap">${content}</pre>`;
            }

            addModalLog(`[${new Date().toLocaleTimeString()}] 切换到文件: ${fileName}`, 'info');
        }

        function pauseTaskFromModal(taskId) {
            if (confirm(`确定要暂停任务 ${taskId} 吗？`)) {
                alert(`任务 ${taskId} 已暂停`);
                addModalLog(`[${new Date().toLocaleTimeString()}] 任务已暂停`, 'warning');
            }
        }

        function stopTaskFromModal(taskId) {
            if (confirm(`确定要停止任务 ${taskId} 吗？已生成的代码将会保留。`)) {
                alert(`任务 ${taskId} 已停止`);
                addModalLog(`[${new Date().toLocaleTimeString()}] 任务已停止`, 'destructive');
                closeTaskDetails();
            }
        }
    </script>

    <!-- 任务开发详情模态框 -->
    <div id="task-details-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-card border border-border rounded-lg w-full max-w-7xl h-5/6 flex flex-col">
                <!-- 模态框头部 -->
                <div class="flex items-center justify-between p-4 border-b border-border">
                    <div class="flex items-center space-x-3">
                        <div class="w-3 h-3 bg-primary rounded-full animate-pulse"></div>
                        <h2 class="text-lg font-semibold" id="task-details-title">数据库优化任务 - 开发详情</h2>
                        <span class="px-2 py-1 bg-primary text-primary-foreground text-xs rounded">执行中</span>
                    </div>
                    <button class="text-muted-foreground hover:text-foreground" onclick="closeTaskDetails()">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>

                <!-- 模态框内容 -->
                <div class="flex-1 flex overflow-hidden">
                    <!-- 左侧：实时日志 -->
                    <div class="w-1/2 border-r border-border flex flex-col">
                        <div class="p-3 border-b border-border bg-muted">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-medium">实时执行日志</h3>
                                <div class="flex space-x-2">
                                    <button class="px-2 py-1 text-xs border border-border rounded hover:bg-accent" onclick="toggleAutoScrollModal()">
                                        自动滚动
                                    </button>
                                    <button class="px-2 py-1 text-xs border border-border rounded hover:bg-accent" onclick="clearModalLogs()">
                                        清空日志
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="task-modal-logs" class="flex-1 p-3 overflow-y-auto bg-background font-mono text-xs">
                            <div class="text-info">[16:20:15] 任务开始执行：数据库优化任务</div>
                            <div class="text-info">[16:20:18] 正在分析数据库结构...</div>
                            <div class="text-success">[16:20:22] 数据库连接成功</div>
                            <div class="text-info">[16:20:25] 开始分析表结构和索引...</div>
                            <div class="text-warning">[16:20:28] 发现性能瓶颈：user_logs表缺少索引</div>
                            <div class="text-info">[16:20:32] 正在生成优化SQL脚本...</div>
                            <div class="text-success">[16:20:35] 生成索引优化脚本：user_logs_idx.sql</div>
                            <div class="text-info">[16:20:38] 开始优化查询语句...</div>
                            <div class="text-warning">[16:20:42] 检测到慢查询：SELECT * FROM user_logs WHERE created_at > ?</div>
                            <div class="text-info">[16:20:45] 正在重写查询语句...</div>
                            <div class="text-success">[16:20:48] 查询优化完成，预计性能提升60%</div>
                            <div class="text-info">[16:20:52] 正在生成数据库迁移文件...</div>
                            <div class="text-info">[16:20:55] 正在运行性能测试...</div>
                            <div class="text-warning">[16:20:58] 测试中：执行优化后的查询...</div>
                        </div>
                    </div>

                    <!-- 右侧：代码查看器 -->
                    <div class="w-1/2 flex flex-col">
                        <div class="p-3 border-b border-border bg-muted">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-medium">生成的代码文件</h3>
                                <div class="flex space-x-2">
                                    <button class="px-2 py-1 text-xs border border-border rounded hover:bg-accent" onclick="refreshGeneratedFiles()">
                                        刷新文件
                                    </button>
                                    <button class="px-2 py-1 text-xs bg-primary text-primary-foreground rounded hover:bg-gray-800" onclick="downloadAllFiles()">
                                        下载全部
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- 文件标签页 -->
                        <div class="flex border-b border-border bg-muted" id="modal-editor-tabs">
                            <div class="flex items-center space-x-2 px-4 py-2 border-r border-border bg-card cursor-pointer" onclick="switchModalTab('user_logs_idx.sql')">
                                <span class="text-sm">user_logs_idx.sql</span>
                            </div>
                            <div class="flex items-center space-x-2 px-4 py-2 border-r border-border hover:bg-accent cursor-pointer" onclick="switchModalTab('optimized_queries.sql')">
                                <span class="text-sm">optimized_queries.sql</span>
                            </div>
                            <div class="flex items-center space-x-2 px-4 py-2 hover:bg-accent cursor-pointer" onclick="switchModalTab('migration_001.sql')">
                                <span class="text-sm">migration_001.sql</span>
                            </div>
                        </div>

                        <!-- 代码内容 -->
                        <div id="modal-code-content" class="flex-1 p-4 bg-background font-mono text-sm overflow-auto">
                            <pre class="whitespace-pre-wrap">-- 用户日志表索引优化脚本
-- 生成时间: 2024-01-21 16:20:35
-- Agent: GPT-4 Turbo

-- 创建复合索引以优化查询性能
CREATE INDEX idx_user_logs_created_at_user_id
ON user_logs (created_at DESC, user_id);

-- 创建覆盖索引以优化统计查询
CREATE INDEX idx_user_logs_action_created_at
ON user_logs (action, created_at DESC)
INCLUDE (user_id, ip_address);

-- 创建部分索引以优化活跃用户查询
CREATE INDEX idx_user_logs_active_users
ON user_logs (user_id, created_at DESC)
WHERE action IN ('login', 'page_view', 'api_call');

-- 删除冗余的旧索引
DROP INDEX IF EXISTS old_user_logs_created_at;
DROP INDEX IF EXISTS old_user_logs_user_id;

-- 更新表统计信息
ANALYZE user_logs;</pre>
                        </div>
                    </div>
                </div>

                <!-- 模态框底部状态栏 -->
                <div class="p-4 border-t border-border bg-muted">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-6">
                            <div class="flex items-center space-x-2">
                                <span class="text-xs text-muted-foreground">Agent状态:</span>
                                <span class="text-xs text-success">运行中</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-xs text-muted-foreground">进度:</span>
                                <span class="text-xs">65%</span>
                                <div class="w-20 bg-muted rounded-full h-1.5">
                                    <div class="bg-primary h-1.5 rounded-full" style="width: 65%"></div>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-xs text-muted-foreground">已用时间:</span>
                                <span class="text-xs">8分钟</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-xs text-muted-foreground">已用成本:</span>
                                <span class="text-xs">$1.20</span>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <button class="px-3 py-1.5 border border-warning text-warning rounded text-sm hover:bg-warning hover:text-warning-foreground" onclick="pauseTaskFromModal('task-003')">
                                暂停任务
                            </button>
                            <button class="px-3 py-1.5 border border-destructive text-destructive rounded text-sm hover:bg-destructive hover:text-destructive-foreground" onclick="stopTaskFromModal('task-003')">
                                停止任务
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
